!function(a){"use strict";var b=function(){this.audioContext=this.getAudioContext(),this.buffer=null,this.WEB_AUDIO_API_NOT_SUPPORTED=1001,this.REQUEST_PROGRESS=101,this.REQUEST_LOAD=102,this.REQUEST_ERROR=1102,this.REQUEST_ABORT=104;var a=this,b=Object.getNotifier(this);Object.defineProperty(this,"status",{get:function(){return parseInt(status,10)},set:function(a){a!==status&&(b.notify({type:"update",name:"status"}),status=a)}}),Object.observe(this,function(b){switch(a.status){case a.WEB_AUDIO_API_NOT_SUPPORTED:console.error("WEB_AUDIO_API_NOT_SUPPORTED");break;case a.REQUEST_PROGRESS:console.log("REQUEST_PROGRESS");break;case a.REQUEST_LOAD:console.log("REQUEST_LOAD");break;case a.REQUEST_ERROR:console.error("REQUEST_ERROR");break;case a.REQUEST_ABORT:console.error("REQUEST_ABORT");break;default:console.error("STATUS NOT IMPLEMENTED")}})};b.prototype.getAudioContext=function(){try{return a.AudioContext=a.AudioContext||a.webkitAudioContext,new a.AudioContext}catch(b){return this.status=this.WEB_AUDIO_API_NOT_SUPPORTED,null}},b.prototype.loadBufferFromURI=function(a){if(null===this.audioContext)return!1;var b=this,c=new XMLHttpRequest;return c.open("GET",a,!0),c.responseType="arraybuffer",c.addEventListener("progress",function(a){b.requestProgress(a)},!1),c.addEventListener("load",function(a){b.requestLoad(a,this)},!1),c.addEventListener("error",function(){b.requestError()},!1),c.addEventListener("abort",function(){b.requestAbort()},!1),c.send(null),!0},b.prototype.requestProgress=function(a){this.status=this.REQUEST_PROGRESS,a.lengthComputable},b.prototype.requestLoad=function(a,b,c){200===b.status?(this.buffer=b.response,this.status=this.REQUEST_LOAD):this.requestError()},b.prototype.requestError=function(){this.status=this.REQUEST_ERROR},b.prototype.requestAbort=function(){this.status=this.REQUEST_ABORT},a.Pulse=b}(window);